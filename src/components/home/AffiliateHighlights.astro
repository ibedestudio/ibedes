---
import type { AffiliateProduct } from "../../lib/products";
import Anchor from "../common/Anchor.astro";

interface Props {
  products: AffiliateProduct[];
}

const { products = [] } = Astro.props;

const normalized = products.slice(0, 4);
---

<div class="flex justify-between items-center w-full mt-12">
  <h3 class="font-display text-lg sm:text-xl leading-loose">Rekomendasi</h3>
  <Anchor url="/rekomendasi" class="text-base">Lihat semua</Anchor>
</div>
<div class="flex flex-col gap-6 my-8">
  {
    normalized.map((product) => (
      <div class="zag-text zag-transition flex flex-col gap-3 pb-2">
        <Anchor url={`/rekomendasi#${product.slug}`} class="text-xl">
          {product.title}
        </Anchor>
        {product.highlight && <p class="text-base">{product.highlight}</p>}
        <div class="zag-muted zag-transition flex justify-between items-center text-sm">
          <p class="uppercase tracking-wider">{product.category}</p>
          <p>{product.links.length} tautan</p>
        </div>
      </div>
    ))
  }
</div>
